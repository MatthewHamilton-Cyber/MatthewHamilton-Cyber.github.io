<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Publications â€” Matthew Hamilton</title>
  <meta name="description" content="Publications by Matthew Hamilton" />
  <style>
    :root{
      --navy:#0b1f3a;
      --text:#ffffff;
      --muted:#d9e2f1;
      --accent:#ffd60a;
      --maxw:980px;
      --radius:12px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background:var(--navy);
      color:var(--text);
      line-height:1.6;
    }
    a{color:var(--accent);text-decoration:none}
    a:hover{text-decoration:underline}
    .wrap{max-width:var(--maxw);margin:0 auto;padding:28px 18px 60px}

    /* Top navigation */
    nav{
      position:sticky; top:0; z-index:100;
      background:rgba(11,31,58,0.95);
      border-bottom:2px solid rgba(255,255,255,.08);
      backdrop-filter:blur(6px);
    }
    .nav-container{
      max-width:var(--maxw);
      margin:0 auto;
      display:flex;
      justify-content:center;
      gap:16px;
      flex-wrap:wrap;
      padding:12px 10px;
    }
    .nav-container a{
      color:var(--text); font-weight:600; text-transform:uppercase;
      letter-spacing:.5px; padding:6px 10px; border-radius:6px;
      transition:all .18s ease;
    }
    .nav-container a:hover{ background:var(--accent); color:var(--navy); text-decoration:none }
    .nav-container a.active{ background:var(--accent); color:var(--navy) }

    header{border-bottom:2px solid rgba(255,255,255,.08); padding-bottom:14px; margin-bottom:18px}
    h1{margin:0 0 6px; font-size:1.8rem}
    .sub{margin:0; color:var(--muted)}

    section{
      background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius);
      padding:18px;
      margin:16px 0;
    }
    h2{margin:0 0 10px; font-size:1.15rem}

    /* Feed list */
    .feed-list{margin:0;padding:0;list-style:none}
    .feed-item{
      padding:12px;
      border:1px solid rgba(255,255,255,.10);
      border-radius:10px;
      margin:12px 0;
      background:rgba(255,255,255,.02);
    }
    .feed-item .title{font-weight:700;margin-bottom:6px}
    .feed-item .meta{color:var(--muted);font-size:.9rem;margin-bottom:8px}
    .feed-item p{margin:0;color:var(--muted)}

    .hint{color:var(--muted);font-size:.95rem;margin-top:10px}
    .link-box{padding:14px;border-radius:10px;background:rgba(255,255,255,.02);border:1px solid rgba(255,255,255,.06)}
    footer{text-align:center;margin-top:30px;color:var(--muted);font-size:.95rem;border-top:1px solid rgba(255,255,255,.1);padding-top:14px}
    .small{font-size:.9rem;color:var(--muted)}
  </style>
</head>
<body>
  <nav>
    <div class="nav-container">
      <a href="index.html">Home</a>
      <a href="publications.html" class="active">Publications</a>
      <a href="presentations.html">Presentations</a>
      <a href="projects.html">Projects</a>
    </div>
  </nav>

  <div class="wrap">
    <header>
      <h1>Publications</h1>
      <p class="sub">Latest posts from your Medium feed and curated external coverage.</p>
    </header>

    <!-- TOP: RSS/Medium feed -->
    <section aria-labelledby="feed-heading">
      <h2 id="feed-heading">From My Medium</h2>
      <div id="feed-container" class="link-box">
        <p class="small">Loading feedâ€¦</p>
      </div>
      <p class="hint">If the feed does not load, it may be blocked by CORS. A direct link to the feed is provided below.</p>
    </section>

    <!-- BOTTOM: direct link (The Sun) -->
    <section aria-labelledby="external-heading">
      <h2 id="external-heading">External Coverage</h2>

      <div class="feed-item">
        <div class="title">Android, iPhone password reuse and passkey concerns</div>
        <div class="meta">The Sun</div>
        <p>
          <a href="https://www.thesun.co.uk/tech/23012074/android-iphone-password-reuse-passkey-log-in-hack/" target="_blank" rel="noopener">
            Read the article on The Sun (opens in new tab)
          </a>
        </p>
      </div>
    </section>

    <footer>
      ðŸ”— <a href="https://www.linkedin.com/in/matthew-hamilton-cyber?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=ios_app" target="_blank" rel="noopener">
        Connect on LinkedIn
      </a>
    </footer>
  </div>

  <script>
    (function(){
      const feedUrl = 'https://medium.com/feed/@Matthew-Hamilton-Cyber';
      const container = document.getElementById('feed-container');

      // Primary attempt: use rss2json public endpoint
      const rss2json = 'https://api.rss2json.com/v1/api.json?rss_url=' + encodeURIComponent(feedUrl);

      // small helper: render feed entries
      function renderFeed(json) {
        try {
          const items = json.items || [];
          if (!items.length) {
            container.innerHTML = '<p class="small">No posts found in the feed.</p>';
            return;
          }
          const ul = document.createElement('ul');
          ul.className = 'feed-list';
          items.slice(0,6).forEach(item => {
            const li = document.createElement('li');
            li.className = 'feed-item';
            const title = document.createElement('div');
            title.className = 'title';
            const a = document.createElement('a');
            a.href = item.link || item.guid || '#';
            a.target = '_blank';
            a.rel = 'noopener';
            a.textContent = item.title || '(untitled)';
            title.appendChild(a);
            const meta = document.createElement('div');
            meta.className = 'meta';
            const pub = item.pubDate ? new Date(item.pubDate).toLocaleDateString() : '';
            meta.textContent = pub + (item.author ? ' Â· ' + item.author : '');
            const excerpt = document.createElement('p');
            // Use description or content snippet if available, stripped of tags
            const raw = item.description || item.contentSnippet || '';
            const txt = raw.replace(/<[^>]+>/g, '');
            excerpt.textContent = txt.length > 220 ? txt.slice(0,220).trim() + 'â€¦' : txt;
            li.appendChild(title);
            li.appendChild(meta);
            if (txt) li.appendChild(excerpt);
            ul.appendChild(li);
          });
          container.innerHTML = '';
          container.appendChild(ul);
        } catch (e) {
          container.innerHTML = '<p class="small">Unable to render feed items.</p>';
        }
      }

      // Try fetching via rss2json, with a short timeout
      const controller = new AbortController();
      const to = setTimeout(()=>controller.abort(), 8000);

      fetch(rss2json, {signal: controller.signal})
        .then(resp => {
          clearTimeout(to);
          if (!resp.ok) throw new Error('Network response not ok: ' + resp.status);
          return resp.json();
        })
        .then(json => {
          // rss2json sometimes returns a status field
          if (json.status && json.status !== 'ok') throw new Error('Feed proxy returned status: ' + json.status);
          renderFeed(json);
        })
        .catch(async (err) => {
          // fallback: try a second proxy (if rss2json blocked), using a simple CORS proxy (may still fail)
          console.warn('rss2json failed:', err);
          container.innerHTML = '<p class="small">Could not fetch the Medium feed automatically due to cross-origin restrictions or network issues.</p>'
            + '<p class="small">You can view the feed directly here: '
            + '<a href="' + feedUrl + '" target="_blank" rel="noopener">Open Medium RSS</a></p>'
            + '<p class="small">Or try the JSON proxy manually: <code>https://api.rss2json.com/v1/api.json?rss_url='
            + encodeURIComponent(feedUrl) + '</code></p>';
        });
    })();
  </script>
</body>
</html>